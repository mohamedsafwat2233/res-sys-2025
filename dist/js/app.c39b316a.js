(function(){"use strict";var e={5441:function(e,t,a){var s=a(5130),o=a(6768);function r(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(a)}var l=a(1241);const n={},i=(0,l.A)(n,[["render",r]]);var c=i,d=a(1387),u=a(4232);const m={class:"container"},h={class:"text-end"},g=(0,o.Lk)("button",{class:"btn btn-info",type:"button"},"Profile",-1),p=(0,o.Lk)("button",{type:"button",class:"btn btn-primary"},"Add New Restaurant",-1),k=(0,o.Lk)("br",null,null,-1),v=(0,o.Lk)("br",null,null,-1),b=(0,o.Lk)("br",null,null,-1);function f(e,t,a,s,r,l){const n=(0,o.g2)("AppNavbar"),i=(0,o.g2)("router-link"),c=(0,o.g2)("AddNewLocation"),d=(0,o.g2)("UserLocations");return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.bF)(n),(0,o.Lk)("p",h,[(0,o.eW)(" Welcome "+(0,u.v_)(r.userName)+" ",1),(0,o.bF)(i,{to:{name:"ProfileView"}},{default:(0,o.k6)((()=>[g])),_:1})]),(0,o.bF)(i,{to:{name:"AddNewLocation"}},{default:(0,o.k6)((()=>[p])),_:1}),k,v,(0,o.bF)(c),b,(0,o.bF)(d,{allLocations:r.listOfLocations},null,8,["allLocations"])])}a(4114);const L=e=>((0,o.Qi)("data-v-2bc17327"),e=e(),(0,o.jt)(),e),I={id:"nav"},y=L((()=>(0,o.Lk)("li",null,"Home",-1)));function w(e,t,a,r,l,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("ul",I,[(0,o.bF)(i,{to:{name:"HomeView",params:{pageTitle:"Home page"}},exact:""},{default:(0,o.k6)((()=>[y])),_:1}),(0,o.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,s.D$)((e=>n.logMeOut()),["prevent"]))},"Logout")])}var $={name:"AppNavbar",methods:{logMeOut(){localStorage.clear(),this.$router.push({name:"LoginView"})}}};const C=(0,l.A)($,[["render",w],["__scopeId","data-v-2bc17327"]]);var A=C,N=a(4373);const M={key:0,class:"table caption-top"},x={class:"float-end"},E=(0,o.Lk)("button",{class:"btn btn-danger"},"Delete All",-1),_=(0,o.Lk)("thead",{class:"table-dark"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col"},"Name"),(0,o.Lk)("th",{scope:"col"},"Phone"),(0,o.Lk)("th",{scope:"col"},"Addres"),(0,o.Lk)("th",{scope:"col"},"Actions")])],-1),F={scope:"row"},S=(0,o.Lk)("button",{class:"btn btn-danger"},"Delete",-1),V=(0,o.Lk)("button",{class:"btn btn-info"},"Update",-1),P=(0,o.Lk)("button",{class:"btn btn-success"},"Menu",-1),U={key:1,class:"alert alert-warning mt15",role:"alert"};function X(e,t,a,s,r,l){const n=(0,o.g2)("router-link");return a.allLocations.length>0?((0,o.uX)(),(0,o.CE)("table",M,[(0,o.Lk)("caption",null,[(0,o.Lk)("span",null," List of Locations ("+(0,u.v_)(a.allLocations.length)+") ",1),(0,o.Lk)("span",x,[(0,o.bF)(n,{to:{name:"DeleteAllLocations"}},{default:(0,o.k6)((()=>[E])),_:1})])]),_,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.allLocations,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("th",F,(0,u.v_)(e.name),1),(0,o.Lk)("td",null,(0,u.v_)(e.phone),1),(0,o.Lk)("td",null,(0,u.v_)(e.address),1),(0,o.Lk)("td",null,[(0,o.bF)(n,{to:{name:"DeleteLocation",params:{locationId:e.id}}},{default:(0,o.k6)((()=>[S])),_:2},1032,["to"]),(0,o.eW)("   "),(0,o.bF)(n,{to:{name:"UpdateLocation",params:{locationId:e.id}}},{default:(0,o.k6)((()=>[V])),_:2},1032,["to"]),(0,o.eW)("   "),(0,o.bF)(n,{to:{name:"Menu",params:{locationId:e.id}}},{default:(0,o.k6)((()=>[P])),_:2},1032,["to"])])])))),128))])])):((0,o.uX)(),(0,o.CE)("div",U," No Locations Added Yet "))}var Q={name:"UserLocations",props:["allLocations"]};const D=(0,l.A)(Q,[["render",X]]);var O=D,B={name:"HomeView",data(){return{userName:"",userId:"",listOfLocations:[]}},components:{AppNavbar:A,UserLocations:O},async mounted(){let e=localStorage.getItem("user-info");if(e&&"SignView"===this.$route.name)this.$router.push({name:"HomeView"});else try{const t=JSON.parse(e);this.userName=t.name,this.userId=t.id;const a=await N.A.get(`http://localhost:3000/locations?userId=${this.userId}`);200===a.status&&Array.isArray(a.data)&&a.data.length>0?(console.log(a.data),this.listOfLocations=a.data):console.warn("No locations found or incorrect data format.")}catch(t){console.error("Error parsing user data or fetching locations:",t)}}};const J=(0,l.A)(B,[["render",f]]);var R=J;const q={class:"container"};function W(e,t,a,s,r,l){const n=(0,o.g2)("SignUpForm");return(0,o.uX)(),(0,o.CE)("div",q,[(0,o.bF)(n)])}const T=e=>((0,o.Qi)("data-v-dd80250e"),e=e(),(0,o.jt)(),e),H={class:"row g-3 align-items-center"},j=T((()=>(0,o.Lk)("h1",null,"Sign Up",-1))),K=T((()=>(0,o.Lk)("h2",null,"Welcome",-1))),Y={class:"col-auto d-block mx-auto"},G={key:0,class:"error-feedback"},z=T((()=>(0,o.Lk)("br",null,null,-1))),Z={class:"row g-3 align-items-center"},ee={class:"col-auto d-block mx-auto"},te={key:0,class:"error-feedback"},ae=T((()=>(0,o.Lk)("br",null,null,-1))),se={class:"row g-3 align-items-center"},oe={class:"col-auto d-block mx-auto"},re={key:0,class:"error-feedback"},le=T((()=>(0,o.Lk)("br",null,null,-1))),ne={class:"row g-3 align-items-center"},ie={class:"col-auto d-block mx-auto"},ce=T((()=>(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Sign Up Now",-1))),de=T((()=>(0,o.Lk)("br",null,null,-1)));function ue(e,t,a,r,l,n){return(0,o.uX)(),(0,o.CE)("form",{onSubmit:t[4]||(t[4]=(0,s.D$)(((...e)=>n.SignUpNow&&n.SignUpNow(...e)),["prevent"]))},[(0,o.Lk)("div",H,[j,K,(0,o.Lk)("div",Y,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",placeholder:"Enter Your Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e)},null,512),[[s.Jo,l.name]]),l.v$.name.$error?((0,o.uX)(),(0,o.CE)("span",G,(0,u.v_)(l.v$.name.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),z,(0,o.Lk)("div",Z,[(0,o.Lk)("div",ee,[(0,o.bo)((0,o.Lk)("input",{type:"email",class:"form-control",placeholder:"Enter Your Email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e)},null,512),[[s.Jo,l.email]]),l.v$.email.$error?((0,o.uX)(),(0,o.CE)("span",te,(0,u.v_)(l.v$.email.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),ae,(0,o.Lk)("div",se,[(0,o.Lk)("div",oe,[(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control",placeholder:"Enter Your Password","onUpdate:modelValue":t[2]||(t[2]=e=>l.pass=e)},null,512),[[s.Jo,l.pass]]),l.v$.pass.$error?((0,o.uX)(),(0,o.CE)("span",re,(0,u.v_)(l.v$.pass.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),le,(0,o.Lk)("div",ne,[(0,o.Lk)("div",ie,[ce,(0,o.eW)(" | "),(0,o.Lk)("button",{type:"button",onClick:t[3]||(t[3]=e=>n.LoginViewPage()),class:"btn btn-primary"}," Login ")])]),de],32)}var me=a(7760),he=a(9428),ge={name:"SignUpForm",data(){return{v$:(0,me.Ay)(),name:"",pass:"",email:""}},validations(){return{name:{required:he.mw},pass:{required:he.mw,minLength:(0,he.Bp)(6)},email:{required:he.mw,email:he.Rp}}},mounted(){let e=localStorage.getItem("user-info");e&&"SignView"===this.$route.name&&this.$router.push({name:"HomeView"})},methods:{LoginViewPage(){this.$router.push({name:"LoginView"})},async SignUpNow(){if(this.v$.$validate(),this.v$.$error)console.log("Form validation failed");else{console.log("Form validated Successfully");try{let e=await N.A.post("http://localhost:3000/users",{name:this.name,email:this.email,pass:this.pass});201===e.status?(console.log("Added New User Successfully"),localStorage.setItem("user-info",JSON.stringify(e.data)),this.$router.push({name:"HomeView"})):console.log("Error adding new user")}catch(e){console.error("Error during sign-up:",e)}}}}};const pe=(0,l.A)(ge,[["render",ue],["__scopeId","data-v-dd80250e"]]);var ke=pe,ve={name:"SignView",components:{SignUpForm:ke}};const be=(0,l.A)(ve,[["render",W]]);var fe=be;const Le={class:"container"};function Ie(e,t,a,s,r,l){const n=(0,o.g2)("LoginForm");return(0,o.uX)(),(0,o.CE)("div",Le,[(0,o.bF)(n)])}const ye=e=>((0,o.Qi)("data-v-82336ad2"),e=e(),(0,o.jt)(),e),we={class:"row g-3 alin-items-center"},$e=ye((()=>(0,o.Lk)("h1",null,"Login",-1))),Ce=ye((()=>(0,o.Lk)("h2",null,"welcome",-1))),Ae={class:"col-auto d-block mx-auto"},Ne={key:0,class:"error-feedback"},Me=ye((()=>(0,o.Lk)("br",null,null,-1))),xe={class:"row g-3 alin-items-center"},Ee={class:"col-auto d-block mx-auto"},_e={key:0,class:"error-feedback"},Fe=ye((()=>(0,o.Lk)("br",null,null,-1))),Se={class:"row g-3 alin-items-center"},Ve={class:"col-auto d-block mx-auto"},Pe=ye((()=>(0,o.Lk)("br",null,null,-1))),Ue={class:"row g-3 alin-items-center"},Xe={class:"col-auto d-block mx-auto error-feedback"},Qe=ye((()=>(0,o.Lk)("br",null,null,-1)));function De(e,t,a,r,l,n){return(0,o.uX)(),(0,o.CE)("form",{onClick:t[4]||(t[4]=(0,s.D$)((()=>{}),["prevent"]))},[(0,o.Lk)("div",we,[$e,Ce,(0,o.Lk)("div",Ae,[(0,o.bo)((0,o.Lk)("input",{type:"email",class:"form-control",placeholder:"Enter Your Email","onUpdate:modelValue":t[0]||(t[0]=e=>r.state.email=e)},null,512),[[s.Jo,r.state.email]]),r.v$.email.$error?((0,o.uX)(),(0,o.CE)("span",Ne,(0,u.v_)(r.v$.email.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),Me,(0,o.Lk)("div",xe,[(0,o.Lk)("div",Ee,[(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control",placeholder:"Enter Your Password","onUpdate:modelValue":t[1]||(t[1]=e=>r.state.pass=e)},null,512),[[s.Jo,r.state.pass]]),r.v$.pass.$error?((0,o.uX)(),(0,o.CE)("span",_e,(0,u.v_)(r.v$.pass.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),Fe,(0,o.Lk)("div",Se,[(0,o.Lk)("div",Ve,[(0,o.Lk)("button",{type:"submit",onClick:t[2]||(t[2]=e=>n.userLogin()),class:"btn btn-primary"}," Login "),(0,o.eW)("      "),(0,o.Lk)("button",{type:"button",onClick:t[3]||(t[3]=e=>n.SignViewPage()),class:"btn btn-primary"}," Sign UP ")])]),Pe,(0,o.Lk)("div",Ue,[(0,o.Lk)("div",Xe,(0,u.v_)(l.userNotFoundError),1)]),Qe])}var Oe=a(144),Be={name:"LoginForm",setup(){const e=(0,Oe.Kh)({pass:"",email:""}),t=(0,o.EW)((()=>({pass:{required:he.mw},email:{required:he.mw,email:he.Rp}}))),a=(0,me.Ay)(t,e);return{state:e,v$:a}},data(){return{userNotFoundError:""}},mounted(){let e=localStorage.getItem("user-info");e&&"LoginView"===this.$route.name&&this.$router.push({name:"HomeView"})},methods:{SignViewPage(){this.$router.push({name:"SignView"})},async userLogin(){if(this.v$.$validate(),this.v$.$error)console.log("Form validated failed");else{console.log("Form validated Successfully");let e=await N.A.get(`http://localhost:3000/users?email${this.state.email}=&pass=${this.state.pass}`);200==e.status&&e.data.length>0?(localStorage.setItem("user-info",JSON.stringify(e.data[0])),this.$router.push({name:"HomeView"})):this.userNotFoundError="user Not Found"}}}};const Je=(0,l.A)(Be,[["render",De],["__scopeId","data-v-82336ad2"]]);var Re=Je,qe={name:"LoginView",components:{LoginForm:Re}};const We=(0,l.A)(qe,[["render",Ie]]);var Te=We;const He={class:"container"};function je(e,t,a,s,r,l){const n=(0,o.g2)("ProfileForm");return(0,o.uX)(),(0,o.CE)("div",He,[(0,o.bF)(n)])}const Ke={class:"container"},Ye={class:"row g-3 align-items-center"},Ge=(0,o.Lk)("h1",null,"Update My Profile Info",-1),ze={class:"col-auto d-block mx-auto"},Ze=(0,o.Lk)("br",null,null,-1),et={class:"row g-3 align-items-center"},tt={class:"col-auto d-block mx-auto"},at=(0,o.Lk)("br",null,null,-1),st={class:"row g-3 align-items-center"},ot={class:"col-auto d-block mx-auto"},rt=(0,o.Lk)("br",null,null,-1),lt={class:"row g-3 align-items-center"},nt={class:"col-auto d-block mx-auto"},it=(0,o.Lk)("br",null,null,-1);function ct(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)("div",Ke,[(0,o.bF)(i),(0,o.Lk)("form",{onSubmit:t[4]||(t[4]=(0,s.D$)(((...e)=>n.updateProfile&&n.updateProfile(...e)),["prevent"]))},[(0,o.Lk)("div",Ye,[Ge,(0,o.Lk)("div",ze,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",disabled:"",placeholder:"Enter Your Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e)},null,512),[[s.Jo,l.name]])])]),Ze,(0,o.Lk)("div",et,[(0,o.Lk)("div",tt,[(0,o.bo)((0,o.Lk)("input",{disabled:"",type:"email",class:"form-control",placeholder:"Enter Your Email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e)},null,512),[[s.Jo,l.email]])])]),at,(0,o.Lk)("div",st,[(0,o.Lk)("div",ot,[(0,o.bo)((0,o.Lk)("input",{disabled:"",type:"password",class:"form-control",placeholder:"Enter Your Password","onUpdate:modelValue":t[2]||(t[2]=e=>l.pass=e)},null,512),[[s.Jo,l.pass]])])]),rt,(0,o.Lk)("div",lt,[(0,o.Lk)("div",nt,[(0,o.Lk)("button",{type:"button",onClick:t[3]||(t[3]=e=>n.updateProfile()),class:"btn btn-primary"}," Update My Profile Info ")])]),it],32)])}var dt={name:"ProfileForm",components:{AppNavbar:A},data(){return{name:"",email:"",pass:""}},mounted(){let e=localStorage.getItem("user-info");if(e){const t=JSON.parse(e);this.name=t.name,this.email=t.email,this.pass=t.pass}else this.$router.push({name:"SignView"})},methods:{updateProfile(){this.$router.push({name:"UpdateProfile"})}}};const ut=(0,l.A)(dt,[["render",ct]]);var mt=ut,ht={name:"ProfileView",components:{ProfileForm:mt}};const gt=(0,l.A)(ht,[["render",je]]);var pt=gt;const kt=(0,o.Lk)("br",null,null,-1),vt={class:"text-center"},bt=(0,o.Lk)("button",{class:"btn btn-info"},"Visit Home Page",-1),ft=(0,o.Lk)("br",null,null,-1),Lt=["src"];function It(e,t,s,r,l,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",null,[kt,(0,o.Lk)("div",vt,[(0,o.bF)(i,{to:{name:"HomeView"}},{default:(0,o.k6)((()=>[bt])),_:1})]),ft,(0,o.Lk)("img",{src:a(1348),class:"rounded mx-auto d-block h400"},null,8,Lt)])}var yt={name:"ErrorPage"};const wt=(0,l.A)(yt,[["render",It]]);var $t=wt;const Ct=e=>((0,o.Qi)("data-v-b62b99a6"),e=e(),(0,o.jt)(),e),At={class:"container"},Nt={class:"row g-3 align-items-center"},Mt=Ct((()=>(0,o.Lk)("h1",null,"Update My Profile Info",-1))),xt={class:"col-auto d-block mx-auto"},Et={key:0,class:"error-feedback"},_t=Ct((()=>(0,o.Lk)("br",null,null,-1))),Ft={class:"row g-3 align-items-center"},St={class:"col-auto d-block mx-auto"},Vt={key:0,class:"error-feedback"},Pt=Ct((()=>(0,o.Lk)("br",null,null,-1))),Ut={class:"row g-3 align-items-center"},Xt={class:"col-auto d-block mx-auto"},Qt={key:0,class:"error-feedback"},Dt=Ct((()=>(0,o.Lk)("br",null,null,-1))),Ot=Ct((()=>(0,o.Lk)("div",{class:"row g-3 align-items-center"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Update Profile")])],-1))),Bt=Ct((()=>(0,o.Lk)("br",null,null,-1)));function Jt(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)("div",At,[(0,o.bF)(i),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,s.D$)(((...e)=>n.updateProfileNow&&n.updateProfileNow(...e)),["prevent"]))},[(0,o.Lk)("div",Nt,[Mt,(0,o.Lk)("div",xt,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",placeholder:"Enter Your Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e)},null,512),[[s.Jo,l.name]]),l.v$.name.$error?((0,o.uX)(),(0,o.CE)("span",Et,(0,u.v_)(l.v$.name.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),_t,(0,o.Lk)("div",Ft,[(0,o.Lk)("div",St,[(0,o.bo)((0,o.Lk)("input",{type:"email",class:"form-control",placeholder:"Enter Your Email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e)},null,512),[[s.Jo,l.email]]),l.v$.email.$error?((0,o.uX)(),(0,o.CE)("span",Vt,(0,u.v_)(l.v$.email.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),Pt,(0,o.Lk)("div",Ut,[(0,o.Lk)("div",Xt,[(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control",placeholder:"Enter Your Password","onUpdate:modelValue":t[2]||(t[2]=e=>l.pass=e)},null,512),[[s.Jo,l.pass]]),l.v$.pass.$error?((0,o.uX)(),(0,o.CE)("span",Qt,(0,u.v_)(l.v$.pass.$errors[0].$message),1)):(0,o.Q3)("",!0)])]),Dt,Ot,Bt],32)])}var Rt={name:"ProfileForm",components:{AppNavbar:A},data(){return{v$:(0,me.Ay)(),name:"",email:"",pass:"",userId:"",userNotFoundErr:""}},validations(){return{name:{required:he.mw,minLength:(0,he.Bp)(3)},email:{required:he.mw,email:he.Rp},pass:{required:he.mw,minLength:(0,he.Bp)(6)}}},mounted(){const e=localStorage.getItem("user-info");if(e){const t=JSON.parse(e);this.name=t.name,this.email=t.email,this.pass=t.pass,this.userId=t.id}else this.$router.push({name:"SignView"})},methods:{async updateProfileNow(){if(this.v$.$validate(),this.v$.$error)this.userNotFoundErr="Something went wrong, refresh the page!";else{console.log("Validated");let e=await N.A.put(`http://localhost:3000/users/${this.userId}`,{name:this.name,email:this.email,pass:this.pass});console.log(e),200==e.status?(console.log("Profile Is Updated Successfully"),localStorage.setItem("user-info",JSON.stringify(e.data)),this.$router.push({name:"ProfileView"})):(console.warn("Profile Is Not Updated"),this.userNotFoundErr="Something went wrong, try again!")}}}};const qt=(0,l.A)(Rt,[["render",Jt],["__scopeId","data-v-b62b99a6"]]);var Wt=qt;const Tt=e=>((0,o.Qi)("data-v-0ddcc058"),e=e(),(0,o.jt)(),e),Ht={class:"container"},jt=Tt((()=>(0,o.Lk)("div",{class:"row g-3 align-items-center"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("h1",null,"Add New Restaurant")])],-1))),Kt={class:"row g-3 align-items-center"},Yt={class:"col-auto d-block mx-auto"},Gt=Tt((()=>(0,o.Lk)("label",{for:"floatRestNameIs"},"Restaurant Name Is",-1))),zt={key:0,class:"error-feedback"},Zt={class:"row g-3 align-items-center"},ea={class:"col-auto d-block mx-auto"},ta=Tt((()=>(0,o.Lk)("label",{for:"floatRestPhoneIs"},"Restaurant Phone No. Is",-1))),aa={key:0,class:"error-feedback"},sa={class:"row g-3 align-items-center"},oa={class:"col-auto d-block mx-auto"},ra=Tt((()=>(0,o.Lk)("label",{for:"floatRestAddressIs"},"Restaurant Address Is",-1))),la={key:0,class:"error-feedback"},na={class:"row g-3 align-items-center"},ia={class:"col-auto d-block mx-auto"},ca=Tt((()=>(0,o.Lk)("br",null,null,-1))),da={class:"row g-3 align-items-center"},ua={key:0,class:"col-auto d-block mx-auto alert alert-success"},ma={key:1,class:"col-auto d-block mx-auto alert alert-danger"};function ha(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("div",Ht,[(0,o.Lk)("form",{onClick:t[4]||(t[4]=(0,s.D$)((()=>{}),["prevent"]))},[jt,(0,o.Lk)("div",Kt,[(0,o.Lk)("div",Yt,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":r.v$.name.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestNameIs",placeholder:"Restaurant Name Is","onUpdate:modelValue":t[0]||(t[0]=e=>r.state.name=e)},null,512),[[s.Jo,r.state.name,void 0,{trim:!0}]]),Gt,r.v$.name.$error?((0,o.uX)(),(0,o.CE)("span",zt,(0,u.v_)(r.v$.name.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",Zt,[(0,o.Lk)("div",ea,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":r.v$.phone.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestPhoneIs",placeholder:"Restaurant Phone No. Is","onUpdate:modelValue":t[1]||(t[1]=e=>r.state.phone=e)},null,512),[[s.Jo,r.state.phone,void 0,{trim:!0}]]),ta,r.v$.phone.$error?((0,o.uX)(),(0,o.CE)("span",aa,(0,u.v_)(r.v$.phone.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",sa,[(0,o.Lk)("div",oa,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":r.v$.address.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestAddressIs",placeholder:"Restaurant Address Is","onUpdate:modelValue":t[2]||(t[2]=e=>r.state.address=e)},null,512),[[s.Jo,r.state.address,void 0,{trim:!0}]]),ra,r.v$.address.$error?((0,o.uX)(),(0,o.CE)("span",la,(0,u.v_)(r.v$.address.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",na,[(0,o.Lk)("div",ia,[(0,o.Lk)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>n.addLocation&&n.addLocation(...e)),class:"w250 btn btn-primary"}," Add Now ")])]),ca,(0,o.Lk)("div",da,[l.successMessage.length>0?((0,o.uX)(),(0,o.CE)("div",ua,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage.length>0?((0,o.uX)(),(0,o.CE)("div",ma,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])])])],64)}var ga={name:"AddNewLocation",setup(){const e=(0,Oe.Kh)({name:"",phone:"",address:""}),t=(0,o.EW)((()=>({name:{required:he.mw,minLength:(0,he.Bp)(10)},phone:{required:he.mw,minLength:(0,he.Bp)(10)},address:{required:he.mw,minLength:(0,he.Bp)(10)}}))),a=(0,me.Ay)(t,e);return{state:e,v$:a}},components:{AppNavbar:A},data(){return{userId:"",successMessage:"",errorMessage:""}},mounted(){let e=localStorage.getItem("user-info");e?this.userId=JSON.parse(e).id:this.$router.push({name:"SignView"})},methods:{async addLocation(){if(this.v$.$validate(),this.v$.$error)this.successMessage="",this.errorMessage="Please fill in all fields correctly!";else try{const e=await N.A.post("http://localhost:3000/locations",{name:this.state.name,phone:this.state.phone,address:this.state.address,userId:this.userId});201===e.status?(this.successMessage="Added New Location Successfully!",this.errorMessage="",setTimeout((()=>{this.$router.push({name:"HomeView"})}),2e3)):(this.successMessage="",this.errorMessage="Failed to add location. Please try again.")}catch(e){this.successMessage="",this.errorMessage="Something went wrong, please try again."}}}};const pa=(0,l.A)(ga,[["render",ha],["__scopeId","data-v-0ddcc058"]]);var ka=pa;const va=e=>((0,o.Qi)("data-v-391c17ec"),e=e(),(0,o.jt)(),e),ba={class:"container"},fa={class:"row g-3 align-items-center"},La={class:"col-auto mx-auto d-block"},Ia=va((()=>(0,o.Lk)("hr",null,null,-1))),ya=va((()=>(0,o.Lk)("p",{class:"text-danger"}," Are you sure you want to delete this location? ",-1))),wa=va((()=>(0,o.Lk)("br",null,null,-1))),$a=va((()=>(0,o.Lk)("br",null,null,-1))),Ca=va((()=>(0,o.Lk)("br",null,null,-1))),Aa=va((()=>(0,o.Lk)("hr",null,null,-1))),Na={class:"row g-3 align-items-center"},Ma={class:"col-auto mx-auto d-block"},xa=va((()=>(0,o.Lk)("br",null,null,-1))),Ea={class:"row g-3 align-items-center"},_a={key:0,class:"col-auto d-block mx-auto alert alert-success"},Fa={key:1,class:"col-auto d-block mx-auto alert alert-warning"};function Sa(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)("div",ba,[(0,o.bF)(i),(0,o.Lk)("form",{onClick:t[2]||(t[2]=(0,s.D$)((()=>{}),["prevent"]))},[(0,o.Lk)("div",fa,[(0,o.Lk)("div",La,[(0,o.Lk)("h1",null,"Delete Restaurant #"+(0,u.v_)(l.deleteLoction),1),Ia,ya,(0,o.eW)(" "+(0,u.v_)(l.name),1),wa,(0,o.eW)(" "+(0,u.v_)(l.address),1),$a,(0,o.eW)(" "+(0,u.v_)(l.phone),1),Ca,Aa])]),(0,o.Lk)("div",Na,[(0,o.Lk)("div",Ma,[(0,o.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=e=>n.goBack())},"Go Back"),(0,o.eW)("     "),(0,o.Lk)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=e=>n.deleteLocation())}," Delete Now ")])]),xa,(0,o.Lk)("div",Ea,[l.successMessage.length>0?((0,o.uX)(),(0,o.CE)("div",_a,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage.length>0?((0,o.uX)(),(0,o.CE)("div",Fa,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])])])}var Va={name:"DeleteLocation",components:{AppNavbar:A},data(){return{name:"",address:"",phone:"",userId:"",deleteLoction:"",locationData:[],successMessage:"",errorMessage:"",allItemsIdIs:[],allCatsIdIs:[]}},async mounted(){let e=localStorage.getItem("user-info");if(e){this.deleteLoction=this.$route.params.locationId,this.userId=JSON.parse(e).id,this.canCurrentUserAccessThisLocation();try{const[e,t]=await Promise.all([N.A.get(`http://localhost:3000/items?locId=${this.deleteLoction}`),N.A.get(`http://localhost:3000/categories?locationId=${this.deleteLoction}`)]);this.allItemsIdIs=e.data.map((e=>e.id)),this.allCatsIdIs=t.data.map((e=>e.id))}catch(t){this.errorMessage="Failed to load data"}}else this.$router.push({name:"SignView"})},methods:{goBack(){this.$router.push({name:"HomeView"})},async canCurrentUserAccessThisLocation(){try{const e=await N.A.get(`http://localhost:3000/locations?id=${this.deleteLoction}&userId=${this.userId}`);if(200===e.status&&e.data.length>0){const t=e.data[0];this.name=t.name,this.address=t.address,this.phone=t.phone}else this.$router.push({name:"HomeView"})}catch{this.$router.push({name:"HomeView"})}},async deleteLocation(){try{const e=[N.A.delete(`http://localhost:3000/locations/${this.deleteLoction}`),...this.allCatsIdIs.map((e=>N.A.delete(`http://localhost:3000/categories/${e}`))),...this.allItemsIdIs.map((e=>N.A.delete(`http://localhost:3000/items/${e}`)))],t=await Promise.all(e);t.every((e=>200===e.status))?(this.successMessage="Location and related data have been deleted.",this.errorMessage="",setTimeout((()=>{this.$router.push({name:"HomeView"})}),2e3)):(this.successMessage="",this.errorMessage="Failed to delete some data.")}catch{this.successMessage="",this.errorMessage="An error occurred. Please try again!"}}}};const Pa=(0,l.A)(Va,[["render",Sa],["__scopeId","data-v-391c17ec"]]);var Ua=Pa;const Xa=e=>((0,o.Qi)("data-v-7de9c244"),e=e(),(0,o.jt)(),e),Qa={class:"container"},Da=Xa((()=>(0,o.Lk)("div",{class:"row g-3 align-items-center"},[(0,o.Lk)("div",{class:"col-auto mx-auto d-block"},[(0,o.Lk)("h1",null,"Delete All Locations"),(0,o.Lk)("hr"),(0,o.Lk)("p",{class:"text-danger"}," Are you sure you want to delete all locations? "),(0,o.Lk)("p",{class:"text-danger"}," It will also delete all related items and categories... Be careful! "),(0,o.Lk)("hr")])],-1))),Oa={class:"row g-3 align-items-center"},Ba={class:"col-auto mx-auto d-block"},Ja=Xa((()=>(0,o.Lk)("button",{class:"btn btn-danger",type:"submit"},"Delete All",-1))),Ra=Xa((()=>(0,o.Lk)("br",null,null,-1))),qa={class:"row g-3 align-items-center"},Wa={key:0,class:"col-auto d-block mx-auto alert alert-warning"},Ta={key:1,class:"col-auto d-block mx-auto alert alert-success"};function Ha(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)("div",Qa,[(0,o.bF)(i),(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>n.deleteAllLocation&&n.deleteAllLocation(...e)),["prevent"]))},[Da,(0,o.Lk)("div",Oa,[(0,o.Lk)("div",Ba,[(0,o.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=e=>n.goBack())},"Go Back"),(0,o.eW)("     "),Ja])]),Ra,(0,o.Lk)("div",qa,[l.successMessage.length>0?((0,o.uX)(),(0,o.CE)("div",Wa,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage.length>0?((0,o.uX)(),(0,o.CE)("div",Ta,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])],32)])}var ja={name:"DeleteAllLocations",components:{AppNavbar:A},data(){return{userId:"",successMessage:"",errorMessage:"",allLocationId:[],allItemsIdIs:[],allCatsIdIs:[]}},async mounted(){let e=localStorage.getItem("user-info");e?(this.userId=JSON.parse(e).id,await this.fetchLocations(),await this.fetchCategories(),await this.fetchItems()):this.$router.push({name:"Signup"})},methods:{goBack(){this.$router.push({name:"Home"})},async fetchLocations(){try{const e=await N.A.get(`http://localhost:3000/locations?userId=${this.userId}`);this.allLocationId=e.data.map((e=>e.id))}catch(e){this.errorMessage="Failed to fetch locations."}},async fetchCategories(){try{const e=await N.A.get(`http://localhost:3000/categories?userId=${this.userId}`);this.allCatsIdIs=e.data.map((e=>e.id))}catch(e){this.errorMessage="Failed to fetch categories."}},async fetchItems(){try{const e=await N.A.get(`http://localhost:3000/items?userId=${this.userId}`);this.allItemsIdIs=e.data.map((e=>e.id))}catch(e){this.errorMessage="Failed to fetch items."}},async deleteAllLocation(){try{const e=[...this.allItemsIdIs.map((e=>N.A.delete(`http://localhost:3000/items/${e}`))),...this.allCatsIdIs.map((e=>N.A.delete(`http://localhost:3000/categories/${e}`))),...this.allLocationId.map((e=>N.A.delete(`http://localhost:3000/locations/${e}`)))],t=await Promise.all(e);t.every((e=>200===e.status))?(this.successMessage="All locations, items, and categories have been deleted.",this.errorMessage="",setTimeout((()=>{this.$router.push({name:"Home"})}),2e3)):(this.successMessage="",this.errorMessage="Something went wrong. Please try again.")}catch(e){this.successMessage="",this.errorMessage="An error occurred. Please try again!"}}}};const Ka=(0,l.A)(ja,[["render",Ha],["__scopeId","data-v-7de9c244"]]);var Ya=Ka;const Ga=e=>((0,o.Qi)("data-v-3d43cb62"),e=e(),(0,o.jt)(),e),za=Ga((()=>(0,o.Lk)("div",{class:"row g-3 align-items-center"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("h1",null,"Update Restaurant"),(0,o.Lk)("hr")])],-1))),Za={class:"row g-3 align-items-center"},es={class:"col-auto d-block mx-auto"},ts=Ga((()=>(0,o.Lk)("label",{for:"floatRestNameIs"},"Restaurant Name Is",-1))),as={key:0,class:"error-feedback"},ss={class:"row g-3 align-items-center"},os={class:"col-auto d-block mx-auto"},rs=Ga((()=>(0,o.Lk)("label",{for:"floatRestPhoneIs"},"Restaurant Phone No. Is",-1))),ls={key:0,class:"error-feedback"},ns={class:"row g-3 align-items-center"},is={class:"col-auto d-block mx-auto"},cs=Ga((()=>(0,o.Lk)("label",{for:"floatRestAddressIs"},"Restaurant Address Is",-1))),ds={key:0,class:"error-feedback"},us={class:"row g-3 align-items-center mb-3"},ms={class:"col-auto d-block mx-auto"},hs={class:"row g-3 align-items-center mb-3"},gs={key:0,class:"col-auto d-block mx-auto alert alert-success"},ps={key:1,class:"col-auto d-block mx-auto alert alert-danger"};function ks(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("form",{onClick:t[4]||(t[4]=(0,s.D$)((()=>{}),["prevent"]))},[za,(0,o.Lk)("div",Za,[(0,o.Lk)("div",es,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":r.v$.name.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestNameIs",placeholder:"Restaurant Name Is","onUpdate:modelValue":t[0]||(t[0]=e=>r.state.name=e)},null,512),[[s.Jo,r.state.name,void 0,{trim:!0}]]),ts,r.v$.name.$error?((0,o.uX)(),(0,o.CE)("span",as,(0,u.v_)(r.v$.name.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",ss,[(0,o.Lk)("div",os,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":r.v$.phone.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestPhoneIs",placeholder:"Restaurant Phone No. Is","onUpdate:modelValue":t[1]||(t[1]=e=>r.state.phone=e)},null,512),[[s.Jo,r.state.phone,void 0,{trim:!0}]]),rs,r.v$.phone.$error?((0,o.uX)(),(0,o.CE)("span",ls,(0,u.v_)(r.v$.phone.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",ns,[(0,o.Lk)("div",is,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":r.v$.address.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestAddressIs",placeholder:"Restaurant Address Is","onUpdate:modelValue":t[2]||(t[2]=e=>r.state.address=e)},null,512),[[s.Jo,r.state.address,void 0,{trim:!0}]]),cs,r.v$.address.$error?((0,o.uX)(),(0,o.CE)("span",ds,(0,u.v_)(r.v$.address.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",us,[(0,o.Lk)("div",ms,[(0,o.Lk)("button",{type:"button",onClick:t[3]||(t[3]=e=>n.updateLocation()),class:"w250 btn btn-warning"}," Update Now ")])]),(0,o.Lk)("div",hs,[l.successMessage.length>0?((0,o.uX)(),(0,o.CE)("div",gs,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage.length>0?((0,o.uX)(),(0,o.CE)("div",ps,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])])],64)}var vs={name:"UpdateLocation",components:{AppNavbar:A},setup(){const e=(0,Oe.Kh)({name:"",phone:"",address:""}),t=(0,o.EW)((()=>({name:{required:he.mw,minLength:(0,he.Bp)(10)},phone:{required:he.mw,minLength:(0,he.Bp)(10)},address:{required:he.mw,minLength:(0,he.Bp)(10)}}))),a=(0,me.Ay)(t,e);return{state:e,v$:a}},data(){return{locationId:"",userId:"",successMessage:"",errorMessage:""}},mounted(){const e=localStorage.getItem("user-info");e?(this.userId=JSON.parse(e).id,this.locationId=this.$route.params.locationId,this.canCurrentUserAccessThisLocation()):this.$router.push({name:"SignView"})},methods:{async canCurrentUserAccessThisLocation(){try{const e=await N.A.get(`http://localhost:3000/locations?id=${this.locationId}&userId=${this.userId}`);if(200===e.status&&e.data.length>0){const t=e.data[0];this.state.name=t.name,this.state.address=t.address,this.state.phone=t.phone}else this.$router.push({name:"HomeView"})}catch(e){this.$router.push({name:"HomeView"})}},async updateLocation(){if(this.v$.$validate(),this.v$.$error)this.successMessage="",this.errorMessage="Please fill in all required fields!";else try{const e=await N.A.put(`http://localhost:3000/locations/${this.locationId}`,{name:this.state.name,phone:this.state.phone,address:this.state.address,userId:this.userId});200===e.status?(this.errorMessage="",this.successMessage="Location updated successfully!",setTimeout((()=>{this.$router.push({name:"HomeView"})}),2e3)):(this.successMessage="",this.errorMessage="Failed to update the location. Please try again!")}catch(e){this.successMessage="",this.errorMessage="Something went wrong. Please try again!"}}}};const bs=(0,l.A)(vs,[["render",ks],["__scopeId","data-v-3d43cb62"]]);var fs=bs;const Ls={class:"container"},Is=(0,o.Lk)("button",{type:"button",class:"float-start btn btn-success"}," View/Add Categories ",-1),ys={key:0,type:"button",class:"float-end btn btn-success"},ws=(0,o.Lk)("div",{class:"clearfix"},null,-1),$s={class:"text-center"},Cs={class:"mb0"},As={class:"text-muted"},Ns=(0,o.Lk)("div",{class:"clearfix"},null,-1),Ms=(0,o.Lk)("button",{type:"button",class:"btn btn-danger"},"Delete All Items",-1),xs=(0,o.Lk)("div",{class:"clearfix"},null,-1),Es=(0,o.Lk)("br",null,null,-1),_s={class:"each-category"},Fs={class:"row"},Ss={class:"row col-12 catName"},Vs={class:"text-center bg-light p-1"},Ps={class:"item-name"},Us={class:"item-description text-muted"},Xs={class:"available-items float-start text-muted"},Qs={class:"item-price float-end text-muted"},Ds=(0,o.Lk)("div",{class:"clearfix"},null,-1),Os={class:"p-1 mt-2"},Bs={class:"available-items float-start"},Js=(0,o.Lk)("button",{type:"button",class:"float-end btn btn-info"}," Update ",-1),Rs={class:"item-price float-end"},qs=(0,o.Lk)("button",{type:"button",class:"float-end btn btn-danger"}," Delete ",-1),Ws=(0,o.Lk)("div",{class:"clearfix"},null,-1),Ts=(0,o.Lk)("hr",null,null,-1),Hs=(0,o.Lk)("br",null,null,-1);function js(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("div",Ls,[(0,o.Lk)("div",null,[(0,o.bF)(c,{to:{name:"ViewCategories",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[Is])),_:1},8,["to"]),(0,o.bF)(c,{to:{name:"AddNewItem",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[l.numOfCategories>0?((0,o.uX)(),(0,o.CE)("button",ys," Add New Items ")):(0,o.Q3)("",!0)])),_:1},8,["to"])]),ws,(0,o.Lk)("div",$s,[(0,o.Lk)("h1",Cs,(0,u.v_)(l.locName),1),(0,o.Lk)("p",As,(0,u.v_)(l.locAddress),1)]),Ns,l.listOfUserCategories.length>0?((0,o.uX)(),(0,o.Wv)(c,{key:0,to:{name:"DeleteAllItems",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[Ms])),_:1},8,["to"])):(0,o.Q3)("",!0),xs,Es,(0,o.Lk)("div",_s,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.listOfUserCategories,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[(0,o.Lk)("div",Fs,[(0,o.Lk)("div",Ss,[(0,o.Lk)("h3",Vs,(0,u.v_)(e.name),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.listOfUserItems,((t,a)=>(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",{key:a,class:(0,u.C4)({"col-xs-12 col-sm-4 px-4":e.id===t.catId})},[(0,o.Lk)("div",{class:(0,u.C4)({"each-item":e.id===t.catId})},[(0,o.Lk)("h4",Ps,(0,u.v_)(t.name),1),(0,o.Lk)("p",Us,(0,u.v_)(t.description),1),(0,o.Lk)("div",null,[(0,o.Lk)("div",Xs," Available Qty: "+(0,u.v_)(n.numberWithCommas(t.qty)),1),(0,o.Lk)("div",Qs," Price: "+(0,u.v_)(n.numberWithCommas(t.price)),1)]),Ds,(0,o.Lk)("div",Os,[(0,o.Lk)("div",Bs,[(0,o.bF)(c,{to:{name:"UpdateItem",params:{itemId:t.id,locationId:l.locationId}}},{default:(0,o.k6)((()=>[Js])),_:2},1032,["to"])]),(0,o.Lk)("div",Rs,[(0,o.bF)(c,{to:{name:"DeleteItem",params:{itemId:t.id,locationId:l.locationId}}},{default:(0,o.k6)((()=>[qs])),_:2},1032,["to"])])]),Ws],2),Ts],2)),[[s.aG,e.id===t.catId]]))),128))]),Hs])))),128))])])],64)}var Ks={components:{AppNavbar:A},name:"MenuComponent",data(){return{locationId:this.$route.params.locationId,locName:"",locAddress:"",listOfUserCategories:[],listOfUserItems:[],numOfCategories:0}},async mounted(){const e=JSON.parse(localStorage.getItem("user-info")||"{}");e.id?(await this.loadLocationInfo(e.id),await this.loadCategories(e.id),await this.loadItems(e.id)):this.$router.push({name:"SignView"})},methods:{async loadLocationInfo(e){try{const t=await N.A.get("http://localhost:3000/locations",{params:{userId:e,id:this.locationId}});if(200===t.status&&t.data.length>0){const e=t.data[0];this.locName=e.name,this.locAddress=e.address}}catch(t){console.error("Failed to load location info:",t)}},async loadCategories(e){try{const t=await N.A.get("http://localhost:3000/categories",{params:{userId:e,locationId:this.locationId}});200===t.status&&(this.listOfUserCategories=t.data,this.numOfCategories=this.listOfUserCategories.length)}catch(t){console.error("Failed to load categories:",t)}},async loadItems(e){try{const t=await N.A.get("http://localhost:3000/items",{params:{userId:e,locId:this.locationId}});200===t.status&&(this.listOfUserItems=t.data)}catch(t){console.error("Failed to load items:",t)}},numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}};const Ys=(0,l.A)(Ks,[["render",js]]);var Gs=Ys;const zs={class:"container"},Zs=(0,o.Lk)("button",{class:"btn btn-info"},"Back to Category",-1),eo=(0,o.Lk)("button",{class:"btn btn-success"},"Back to Menu",-1),to=(0,o.Lk)("br",null,null,-1),ao=(0,o.Lk)("div",{class:"clearfix"},null,-1),so={class:"row g-3 align-items-center"},oo={class:"text-center mb-3"},ro={class:"mb0"},lo={class:"text-muted"},no=(0,o.Lk)("div",{class:"row g-3 align-items-center"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("h1",null,"Update Category")])],-1),io={class:"row g-3 align-items-center"},co={class:"col-auto d-block mx-auto"},uo=(0,o.Lk)("label",{for:"floatRestCatIs"},"Category Name Is",-1),mo={key:0,class:"error-feedback"},ho=(0,o.Lk)("div",{class:"row g-3 align-items-center mb-3"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("button",{type:"submit",class:"w250 btn btn-warning"},"Update Now")])],-1),go={class:"row g-3 align-items-center mb-3"},po={key:0,class:"col-auto d-block mx-auto alert alert-success"},ko={key:1,class:"col-auto d-block mx-auto alert alert-danger"},vo=(0,o.Lk)("br",null,null,-1);function bo(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("div",zs,[(0,o.bF)(c,{to:{name:"ViewCategories",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[Zs])),_:1},8,["to"]),(0,o.eW)("    "),(0,o.bF)(c,{to:{name:"Menu",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[eo])),_:1},8,["to"]),to,ao,(0,o.Lk)("div",so,[(0,o.Lk)("div",oo,[(0,o.Lk)("h4",ro,(0,u.v_)(l.locName),1),(0,o.Lk)("p",lo,(0,u.v_)(l.locAddress),1)])]),(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>n.updateCategory&&n.updateCategory(...e)),["prevent"]))},[no,(0,o.Lk)("div",io,[(0,o.Lk)("div",co,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.name.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestCatIs",placeholder:"Category Name Is","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e)},null,512),[[s.Jo,l.name,void 0,{trim:!0}]]),uo,l.v$.name.$error?((0,o.uX)(),(0,o.CE)("span",mo,(0,u.v_)(l.v$.name.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),ho,(0,o.Lk)("div",go,[l.successMessage?((0,o.uX)(),(0,o.CE)("div",po,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",ko,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)]),vo],32)])],64)}var fo={name:"AddNewCategory",components:{AppNavbar:A},data(){return{v$:(0,me.Ay)(),locationId:this.$route.params.locationId,catId:this.$route.params.catId,userId:"",locName:"",locAddress:"",name:"",successMessage:"",errorMessage:"",listOfUserCategories:[]}},validations(){return{name:{required:he.mw,minLength:(0,he.Bp)(3),maxLength:(0,he.Ru)(15)}}},async mounted(){const e=JSON.parse(localStorage.getItem("user-info")||"{}");e.id?(this.userId=e.id,await this.loadCategoryData()):this.$router.push({name:"SignView"})},methods:{async loadCategoryData(){try{const e=await N.A.get("http://localhost:3000/locations",{params:{userId:this.userId,id:this.locationId}});if(200===e.status&&e.data.length>0){const t=e.data[0];this.locName=t.name,this.locAddress=t.address}const t=await N.A.get("http://localhost:3000/categories",{params:{userId:this.userId,locationId:this.locationId,id:this.catId}});if(200===t.status&&t.data.length>0){const e=t.data[0];this.name=e.name}const a=await N.A.get("http://localhost:3000/categories",{params:{userId:this.userId,locationId:this.locationId}});200===a.status&&(this.listOfUserCategories=a.data)}catch(e){console.error("Failed to load data:",e)}},async updateCategory(){if(this.v$.$validate(),this.v$.$error)return this.errorMessage="You must fill in category name",void(this.successMessage="");const e=this.listOfUserCategories.some((e=>e.name.toLowerCase()===this.name.toLowerCase()));if(e)return this.errorMessage="Category Name already exists, try another name",void(this.successMessage="");try{const e=await N.A.put(`http://localhost:3000/categories/${this.catId}`,{name:this.name,userId:this.userId,locationId:parseInt(this.locationId,10)});200===e.status?(this.successMessage="Update Category Name Successfully",this.errorMessage="",setTimeout((()=>{this.$router.push({name:"ViewCategories",params:{locationId:this.locationId}})}),2e3)):(this.errorMessage="Something went wrong, try again..",this.successMessage="")}catch(t){this.errorMessage="Something went wrong, try again..",this.successMessage="",console.error("Failed to update category:",t)}}}};const Lo=(0,l.A)(fo,[["render",bo]]);var Io=Lo;const yo={class:"container"},wo=(0,o.Lk)("button",{class:"btn btn-info"},"Back to Category",-1),$o=(0,o.Lk)("button",{class:"btn btn-success"},"Back to Menu",-1),Co=(0,o.Lk)("br",null,null,-1),Ao=(0,o.Lk)("div",{class:"clearfix"},null,-1),No={class:"text-center"},Mo={class:"mb0"},xo={class:"text-muted"},Eo=(0,o.Lk)("br",null,null,-1),_o=(0,o.Lk)("div",{class:"row g-3 align-items-center"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("h1",null,"Add New Category")])],-1),Fo={class:"row g-3 align-items-center"},So={class:"col-auto d-block mx-auto"},Vo=(0,o.Lk)("label",{for:"floatRestCatIs"},"Category Name",-1),Po={key:0,class:"error-feedback"},Uo=(0,o.Lk)("div",{class:"row g-3 align-items-center mb-3"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("button",{type:"submit",class:"w250 btn btn-success"},"Add Now")])],-1),Xo={class:"row g-3 align-items-center mb-3"},Qo={key:0,class:"col-auto d-block mx-auto alert alert-success"},Do={key:1,class:"col-auto d-block mx-auto alert alert-danger mb-3"},Oo=(0,o.Lk)("br",null,null,-1);function Bo(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("div",yo,[(0,o.bF)(c,{to:{name:"ViewCategories",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[wo])),_:1},8,["to"]),(0,o.eW)("    "),(0,o.bF)(c,{to:{name:"Menu",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[$o])),_:1},8,["to"]),Co,Ao,(0,o.Lk)("div",No,[(0,o.Lk)("h4",Mo,(0,u.v_)(l.locName),1),(0,o.Lk)("p",xo,(0,u.v_)(l.locAddress),1)]),Eo,(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>n.addCategory&&n.addCategory(...e)),["prevent"]))},[_o,(0,o.Lk)("div",Fo,[(0,o.Lk)("div",So,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.name.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatRestCatIs",placeholder:"Category Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e)},null,512),[[s.Jo,l.name,void 0,{trim:!0}]]),Vo,l.v$.name.$error?((0,o.uX)(),(0,o.CE)("span",Po,(0,u.v_)(l.v$.name.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),Uo,(0,o.Lk)("div",Xo,[l.successMessage?((0,o.uX)(),(0,o.CE)("div",Qo,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",Do,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)]),Oo],32)])],64)}var Jo={name:"AddNewCategory",components:{AppNavbar:A},data(){return{v$:(0,me.Ay)(),locationId:this.$route.params.locationId,userId:"",locName:"",locAddress:"",name:"",successMessage:"",errorMessage:"",listOfUserCategories:[]}},validations(){return{name:{required:he.mw,minLength:(0,he.Bp)(3),maxLength:(0,he.Ru)(15)}}},mounted(){const e=localStorage.getItem("user-info");if(e){const t=JSON.parse(e);this.userId=t.id,this.getLocationInfo(),this.displayUserCategories()}else this.$router.push({name:"SignView"})},methods:{async displayUserCategories(){try{const e=await N.A.get(`http://localhost:3000/categories?userId=${this.userId}&locationId=${this.locationId}`);this.listOfUserCategories=e.data}catch(e){console.error("Error fetching categories:",e)}},async getLocationInfo(){try{const e=await N.A.get(`http://localhost:3000/locations?userId=${this.userId}&id=${this.locationId}`),t=e.data[0];this.locName=t.name,this.locAddress=t.address}catch(e){console.error("Error fetching location info:",e)}},async addCategory(){if(this.v$.$validate(),this.v$.$error)this.successMessage="",this.errorMessage="You must fill in category name";else{const t=this.listOfUserCategories.filter((e=>e.name.toLocaleLowerCase()===this.name.toLocaleLowerCase()));if(t.length>0)this.errorMessage="Category Name already exists, try another name",this.successMessage="";else try{const e=await N.A.post("http://localhost:3000/categories",{name:this.name,userId:this.userId,locationId:parseInt(this.locationId,10)});201===e.status&&(this.errorMessage="",this.successMessage="Added New Category Successfully",setTimeout((()=>{this.$router.push({name:"ViewCategories",params:{locationId:this.locationId}})}),2e3))}catch(e){this.successMessage="",this.errorMessage="Something went wrong, try again..",console.error("Error adding category:",e)}}}}};const Ro=(0,l.A)(Jo,[["render",Bo]]);var qo=Ro;const Wo={class:"container"},To=(0,o.Lk)("button",{class:"btn btn-info"},"Add Category",-1),Ho=(0,o.Lk)("button",{class:"btn btn-success"},"Back to Menu",-1),jo=(0,o.Lk)("br",null,null,-1),Ko={class:"text-center"},Yo={class:"mb0"},Go={class:"text-muted"},zo={key:0,class:"table caption-top"},Zo={class:"float-end"},er=(0,o.Lk)("button",{class:"btn btn-danger"},"Delete All",-1),tr=(0,o.Lk)("thead",{class:"table-dark"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col"},"Name"),(0,o.Lk)("th",{scope:"col"},"Actions")])],-1),ar={scope:"row"},sr=(0,o.Lk)("button",{class:"btn btn-info"},"Update",-1),or=(0,o.Lk)("button",{class:"btn btn-danger"},"Delete",-1),rr={key:1,class:"alert alert-warning mt15",role:"alert"};function lr(e,t,a,s,r,l){const n=(0,o.g2)("AppNavbar"),i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(n),(0,o.Lk)("div",Wo,[(0,o.bF)(i,{to:{name:"AddNewCategory",params:{locationId:r.locationId}}},{default:(0,o.k6)((()=>[To])),_:1},8,["to"]),(0,o.eW)("    "),(0,o.bF)(i,{to:{name:"Menu",params:{locationId:r.locationId}}},{default:(0,o.k6)((()=>[Ho])),_:1},8,["to"]),jo,(0,o.Lk)("div",Ko,[(0,o.Lk)("h1",Yo,(0,u.v_)(r.locName),1),(0,o.Lk)("p",Go,(0,u.v_)(r.locAddress),1)]),r.listOfCategories.length>0?((0,o.uX)(),(0,o.CE)("table",zo,[(0,o.Lk)("caption",null,[(0,o.Lk)("span",null," List of Categories ("+(0,u.v_)(r.listOfCategories.length)+") ",1),(0,o.Lk)("span",Zo,[(0,o.bF)(i,{to:{name:"DeleteAllCategories",params:{locationId:r.locationId}}},{default:(0,o.k6)((()=>[er])),_:1},8,["to"])])]),tr,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.listOfCategories,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("th",ar,(0,u.v_)(e.name),1),(0,o.Lk)("td",null,[(0,o.bF)(i,{to:{name:"UpdateCategory",params:{catId:e.id,locationId:e.locationId}}},{default:(0,o.k6)((()=>[sr])),_:2},1032,["to"]),(0,o.eW)("   "),(0,o.bF)(i,{to:{name:"DeleteCategory",params:{catId:e.id,locationId:e.locationId}}},{default:(0,o.k6)((()=>[or])),_:2},1032,["to"])])])))),128))])])):((0,o.uX)(),(0,o.CE)("div",rr," No Categories Added Yet "))])],64)}var nr={name:"ViewCategories",components:{AppNavbar:A},data(){return{locationId:this.$route.params.locationId,userId:"",locName:"",locAddress:"",listOfCategories:[]}},async mounted(){let e=localStorage.getItem("user-info");e?(this.userId=JSON.parse(e).id,await this.loadData()):this.$router.push({name:"SignView"})},methods:{async loadData(){await this.loadLocationInfo(),await this.loadCategories()},async loadCategories(){try{let e=await N.A.get(`http://localhost:3000/categories?locationId=${this.locationId}`);200===e.status&&(this.listOfCategories=e.data)}catch(e){console.error("Failed to load categories",e)}},async loadLocationInfo(){try{let e=await N.A.get(`http://localhost:3000/locations?userId=${this.userId}&id=${this.locationId}`);if(200===e.status&&e.data.length>0){const t=e.data[0];this.locName=t.name,this.locAddress=t.address}}catch(e){console.error("Failed to load location info",e)}}}};const ir=(0,l.A)(nr,[["render",lr]]);var cr=ir;const dr=e=>((0,o.Qi)("data-v-772dd308"),e=e(),(0,o.jt)(),e),ur={class:"container"},mr={class:"row g-3 align-items-center"},hr={class:"col-auto mx-auto d-block"},gr=dr((()=>(0,o.Lk)("hr",null,null,-1))),pr=dr((()=>(0,o.Lk)("p",{class:"text-danger"}," Are you sure you want to delete this category? ",-1))),kr=dr((()=>(0,o.Lk)("p",{class:"text-danger"}," When deleting this category, it will delete all related menu items as well... ",-1))),vr=dr((()=>(0,o.Lk)("hr",null,null,-1))),br={class:"row g-3 align-items-center"},fr={class:"col-auto mx-auto d-block"},Lr=dr((()=>(0,o.Lk)("button",{class:"btn btn-danger",type:"submit"},"Delete Now",-1))),Ir=dr((()=>(0,o.Lk)("br",null,null,-1))),yr={class:"row g-3 align-items-center"},wr={key:0,class:"col-auto d-block mx-auto alert alert-success"},$r={key:1,class:"col-auto d-block mx-auto alert alert-warning"};function Cr(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)("div",ur,[(0,o.bF)(i),(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>n.deleteCategory&&n.deleteCategory(...e)),["prevent"]))},[(0,o.Lk)("div",mr,[(0,o.Lk)("div",hr,[(0,o.Lk)("h1",null,"Delete Category #"+(0,u.v_)(l.catId),1),(0,o.Lk)("h4",null,"Category Name: "+(0,u.v_)(l.name),1),gr,pr,kr,vr])]),(0,o.Lk)("div",br,[(0,o.Lk)("div",fr,[(0,o.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=(...e)=>n.goBack&&n.goBack(...e))},"Go Back"),(0,o.eW)("     "),Lr])]),Ir,(0,o.Lk)("div",yr,[l.successMessage?((0,o.uX)(),(0,o.CE)("div",wr,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",$r,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])],32)])}var Ar={name:"DeleteCategory",components:{AppNavbar:A},data(){return{locationId:this.$route.params.locationId,catId:this.$route.params.catId,userId:"",name:"",allItemsIdIs:[],successMessage:"",errorMessage:""}},async mounted(){const e=JSON.parse(localStorage.getItem("user-info")||"{}");e.id?(this.userId=e.id,await this.loadCategory(),await this.loadItems(),await this.checkUserAccess()):this.$router.push({name:"SignView"})},methods:{goBack(){this.$router.push({name:"ViewCategories",params:{locationId:this.locationId}})},async loadCategory(){try{const{data:e}=await N.A.get("http://localhost:3000/categories",{params:{userId:this.userId,locationId:this.locationId,id:this.catId}});e.length&&(this.name=e[0].name)}catch(e){this.errorMessage="Failed to load category."}},async loadItems(){try{const{data:e}=await N.A.get("http://localhost:3000/items",{params:{catId:this.catId}});this.allItemsIdIs=e.map((e=>e.id))}catch(e){this.errorMessage="Failed to load items."}},async checkUserAccess(){try{const{data:e}=await N.A.get("http://localhost:3000/locations",{params:{id:this.locationId,userId:this.userId}});0===e.length&&this.$router.push({name:"HomeView"})}catch(e){this.errorMessage="Access check failed."}},async deleteCategory(){try{await N.A.delete(`http://localhost:3000/categories/${this.catId}`),await Promise.all(this.allItemsIdIs.map((e=>N.A.delete(`http://localhost:3000/items/${e}`)))),this.successMessage="Category and related items have been deleted.",this.errorMessage="",setTimeout((()=>{this.$router.push({name:"ViewCategories",params:{locationId:this.locationId}})}),2e3)}catch(e){this.successMessage="",this.errorMessage="Failed to delete category and items."}}}};const Nr=(0,l.A)(Ar,[["render",Cr],["__scopeId","data-v-772dd308"]]);var Mr=Nr;const xr={class:"container"},Er={class:"row g-3 align-items-center"},_r={class:"col-auto mx-auto d-block"},Fr=(0,o.Lk)("h1",null,"Delete All Categories",-1),Sr=(0,o.Lk)("hr",null,null,-1),Vr=(0,o.Lk)("p",{class:"text-danger"}," Are you sure you want to delete All Categories for This Location? ",-1),Pr=(0,o.Lk)("br",null,null,-1),Ur={class:"text-center"},Xr={class:"mb0"},Qr={class:"text-muted"},Dr=(0,o.Lk)("p",{class:"text-danger"}," When Deleting all categories, their related menu items will be deleted as well... ",-1),Or=(0,o.Lk)("hr",null,null,-1),Br={class:"row g-3 align-items-center"},Jr={class:"col-auto mx-auto d-block"},Rr=(0,o.Lk)("br",null,null,-1),qr={class:"row g-3 align-items-center"},Wr={key:0,class:"col-auto d-block mx-auto alert alert-success"},Tr={key:1,class:"col-auto d-block mx-auto alert alert-warning"};function Hr(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar");return(0,o.uX)(),(0,o.CE)("div",xr,[(0,o.bF)(i),(0,o.Lk)("form",{onClick:t[2]||(t[2]=(0,s.D$)((()=>{}),["prevent"]))},[(0,o.Lk)("div",Er,[(0,o.Lk)("div",_r,[Fr,Sr,Vr,Pr,(0,o.Lk)("div",Ur,[(0,o.Lk)("h1",Xr,(0,u.v_)(l.locName),1),(0,o.Lk)("p",Qr,(0,u.v_)(l.locAddress),1)]),Dr,Or])]),(0,o.Lk)("div",Br,[(0,o.Lk)("div",Jr,[(0,o.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=e=>n.goBack())},"Go Back"),(0,o.eW)("     "),(0,o.Lk)("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=e=>n.deleteAllCategories())}," Delete Now ")])]),Rr,(0,o.Lk)("div",qr,[l.successMessage.length>0?((0,o.uX)(),(0,o.CE)("div",Wr,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage.length>0?((0,o.uX)(),(0,o.CE)("div",Tr,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])])])}var jr={name:"DeleteAllCategories",components:{AppNavbar:A},data(){return{locationId:this.$route.params.locationId,userId:"",locationData:[],successMessage:"",errorMessage:"",allItemsIdIs:[],allCatsIdIs:[],locName:"",locAddress:""}},async mounted(){let e=localStorage.getItem("user-info");e?(this.userId=JSON.parse(e).id,await this.getLocationInfo(this.userId,this.locationId),await this.loadItemsAndCategories()):this.$router.push({name:"Signup"})},methods:{async loadItemsAndCategories(){try{let e=await N.A.get(`http://localhost:3000/items?locId=${this.locationId}`);this.allItemsIdIs=e.data.map((e=>e.id));let t=await N.A.get(`http://localhost:3000/categories?locationId=${this.locationId}`);this.allCatsIdIs=t.data.map((e=>e.id))}catch(e){this.errorMessage="Error loading data."}},goBack(){this.$router.push({name:"ViewCategories",params:{locationId:this.locationId}})},async getLocationInfo(e,t){try{let a=await N.A.get(`http://localhost:3000/locations?userId=${e}&id=${t}`);if(200===a.status&&a.data.length>0){let e=a.data[0];this.locName=e.name,this.locAddress=e.address}}catch(a){this.errorMessage="Error fetching location info."}},async deleteAllCategories(){try{let e=await Promise.all([...this.allCatsIdIs.map((e=>N.A.delete(`http://localhost:3000/categories/${e}`))),...this.allItemsIdIs.map((e=>N.A.delete(`http://localhost:3000/items/${e}`)))]);e.every((e=>200===e.status))?(this.successMessage="All categories and related items have been deleted.",setTimeout((()=>{this.$router.push({name:"HomeView"})}),2e3)):this.errorMessage="Error deleting categories or items."}catch(e){this.errorMessage="Something went wrong. Please try again."}}}};const Kr=(0,l.A)(jr,[["render",Hr]]);var Yr=Kr;const Gr=e=>((0,o.Qi)("data-v-7ac58761"),e=e(),(0,o.jt)(),e),zr={class:"container"},Zr=Gr((()=>(0,o.Lk)("button",{type:"button",class:"float-start btn btn-info"}," Back to Menu ",-1))),el={class:"text-center"},tl={class:"mb0"},al={class:"text-muted"},sl=Gr((()=>(0,o.Lk)("div",{class:"mb-3"},[(0,o.Lk)("h1",null,"Add New Item")],-1))),ol=Gr((()=>(0,o.Lk)("label",{for:"floatItemName"},"Enter Item Name",-1))),rl={key:0,class:"error-feedback"},ll=Gr((()=>(0,o.Lk)("label",{for:"floatItemPrice"},"Enter Item Price",-1))),nl={key:0,class:"error-feedback"},il=Gr((()=>(0,o.Lk)("label",{for:"floatItemQty"},"Enter Item Quantities",-1))),cl={key:0,class:"error-feedback"},dl=Gr((()=>(0,o.Lk)("label",{for:"floatItemDescriptions"},"Enter Item Descriptions",-1))),ul={key:0,class:"error-feedback"},ml=["value"],hl=Gr((()=>(0,o.Lk)("label",{for:"floatItemCategory"},"Select Category Name",-1))),gl={key:0,class:"error-feedback"},pl=Gr((()=>(0,o.Lk)("button",{type:"submit",class:"w250 btn btn-primary"},"Add Now",-1))),kl={key:0,class:"alert alert-success"},vl={key:1,class:"alert alert-danger"};function bl(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("div",zr,[(0,o.bF)(c,{to:{name:"Menu",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[Zr])),_:1},8,["to"]),(0,o.Lk)("div",el,[(0,o.Lk)("h4",tl,(0,u.v_)(l.locName),1),(0,o.Lk)("p",al,(0,u.v_)(l.locAddress),1)]),(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,s.D$)(((...e)=>n.addNewItem&&n.addNewItem(...e)),["prevent"]))},[sl,(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.itemName.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatItemName",placeholder:"Enter Item Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.itemName=e)},null,512),[[s.Jo,l.itemName,void 0,{trim:!0}]]),ol,l.v$.itemName.$error?((0,o.uX)(),(0,o.CE)("span",rl,(0,u.v_)(l.v$.itemName.$errors[0].$message),1)):(0,o.Q3)("",!0)],2),(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.itemPrice.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"number",class:"w250 form-control",id:"floatItemPrice",placeholder:"Enter Item Price","onUpdate:modelValue":t[1]||(t[1]=e=>l.itemPrice=e)},null,512),[[s.Jo,l.itemPrice,void 0,{trim:!0}]]),ll,l.v$.itemPrice.$error?((0,o.uX)(),(0,o.CE)("span",nl,(0,u.v_)(l.v$.itemPrice.$errors[0].$message),1)):(0,o.Q3)("",!0)],2),(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.itemsQty.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"number",class:"w250 form-control",id:"floatItemQty",placeholder:"Enter Item Quantities","onUpdate:modelValue":t[2]||(t[2]=e=>l.itemsQty=e)},null,512),[[s.Jo,l.itemsQty,void 0,{trim:!0}]]),il,l.v$.itemsQty.$error?((0,o.uX)(),(0,o.CE)("span",cl,(0,u.v_)(l.v$.itemsQty.$errors[0].$message),1)):(0,o.Q3)("",!0)],2),(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.description.$error}])},[(0,o.bo)((0,o.Lk)("textarea",{class:"w250 form-control h100",placeholder:"Enter Item Descriptions",id:"floatItemDescriptions","onUpdate:modelValue":t[3]||(t[3]=e=>l.description=e)},null,512),[[s.Jo,l.description,void 0,{trim:!0}]]),dl,l.v$.description.$error?((0,o.uX)(),(0,o.CE)("span",ul,(0,u.v_)(l.v$.description.$errors[0].$message),1)):(0,o.Q3)("",!0)],2),(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.pickedCategory.$error}])},[(0,o.bo)((0,o.Lk)("select",{class:"w250 form-select",id:"floatItemCategory","onUpdate:modelValue":t[4]||(t[4]=e=>l.pickedCategory=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.listOfCategories,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,u.v_)(e.name),9,ml)))),128))],512),[[s.u1,l.pickedCategory,void 0,{trim:!0}]]),hl,l.v$.pickedCategory.$error?((0,o.uX)(),(0,o.CE)("span",gl,(0,u.v_)(l.v$.pickedCategory.$errors[0].$message),1)):(0,o.Q3)("",!0)],2),pl,l.successMessage?((0,o.uX)(),(0,o.CE)("div",kl,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",vl,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)],32)])],64)}var fl={components:{AppNavbar:A},data(){return{v$:(0,me.fG)(),locationId:this.$route.params.locationId,locName:"",locAddress:"",itemName:"",itemPrice:"",itemsQty:1,description:"",pickedCategory:"",successMessage:"",errorMessage:"",listOfCategories:[]}},validations(){return{itemName:{required:he.mw,minLength:(0,he.Bp)(6)},description:{required:he.mw,minLength:(0,he.Bp)(6),maxLength:(0,he.Ru)(120)},itemsQty:{required:he.mw,between:(0,he.Tq)(1,1e5)},itemPrice:{required:he.mw,between:(0,he.Tq)(0,1e6)},pickedCategory:{required:he.mw}}},async mounted(){const e=JSON.parse(localStorage.getItem("user-info")||"{}");if(!e.id)return this.$router.push({name:"SignView"});const{id:t}=e;await this.fetchLocationInfo(t,this.locationId),await this.fetchCategories(t,this.locationId)},methods:{async fetchLocationInfo(e,t){try{const{data:a}=await N.A.get(`http://localhost:3000/locations?userId=${e}&id=${t}`);if(a.length){const{name:e,address:t}=a[0];this.locName=e,this.locAddress=t}}catch(a){this.errorMessage="Failed to fetch location info."}},async fetchCategories(e,t){try{const{data:a}=await N.A.get(`http://localhost:3000/categories?userId=${e}&locationId=${t}`);this.listOfCategories=a}catch(a){this.errorMessage="Failed to fetch categories."}},async addNewItem(){if(this.v$.$validate(),this.v$.$error)this.errorMessage="You must fill in all required fields!";else try{const e=await N.A.post("http://localhost:3000/items",{name:this.itemName,price:parseFloat(this.itemPrice).toFixed(2),description:this.description,qty:parseInt(this.itemsQty),locId:parseInt(this.locationId),catId:this.pickedCategory});201===e.status&&(this.successMessage="Item added successfully!",setTimeout((()=>{this.$router.push({name:"Menu",params:{locationId:this.locationId}})}),2e3))}catch{this.errorMessage="Failed to add item, please try again!"}}}};const Ll=(0,l.A)(fl,[["render",bl],["__scopeId","data-v-7ac58761"]]);var Il=Ll;const yl={class:"container"},wl=(0,o.Lk)("div",{class:"clearfix"},null,-1),$l=(0,o.Lk)("button",{type:"button",class:"float-start btn btn-info"}," Back to Menu ",-1),Cl=(0,o.Lk)("div",{class:"clearfix"},null,-1),Al=(0,o.Lk)("br",null,null,-1),Nl={class:"text-center"},Ml={class:"mb0"},xl={class:"text-muted"},El=(0,o.Lk)("div",{class:"row g-3 align-items-center"},[(0,o.Lk)("div",{class:"col-auto d-block mx-auto"},[(0,o.Lk)("hr"),(0,o.Lk)("h1",null,"Update Item")])],-1),_l={class:"row g-3 align-items-center"},Fl={class:"col-auto d-block mx-auto"},Sl=(0,o.Lk)("label",{for:"floatItemName"},"Enter Item Name",-1),Vl={key:0,class:"error-feedback"},Pl={class:"row g-3 align-items-center"},Ul={class:"col-auto d-block mx-auto"},Xl=(0,o.Lk)("label",{for:"floatItemPrice"},"Enter Item Price",-1),Ql={key:0,class:"error-feedback"},Dl={class:"row g-3 align-items-center"},Ol={class:"col-auto d-block mx-auto"},Bl=(0,o.Lk)("label",{for:"floatItemQty"},"Enter Item Quantities",-1),Jl={key:0,class:"error-feedback"},Rl={class:"row g-3 align-items-center"},ql={class:"col-auto d-block mx-auto"},Wl=(0,o.Lk)("label",{for:"floatItemDescriptions"},"Enter Item Descriptions",-1),Tl={key:0,class:"error-feedback"},Hl={class:"row g-3 align-items-center"},jl={class:"col-auto d-block mx-auto"},Kl=["value"],Yl=(0,o.Lk)("label",{for:"floatItemCategory"},"Select Category Name",-1),Gl={key:0,class:"error-feedback"},zl=(0,o.Lk)("br",null,null,-1),Zl={class:"row g-3 align-items-center"},en={class:"col-auto d-block mx-auto"},tn=(0,o.Lk)("br",null,null,-1),an={class:"row g-3 align-items-center"},sn={key:0,class:"col-auto d-block mx-auto alert alert-success"},on={key:1,class:"col-auto d-block mx-auto alert alert-danger"};function rn(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.Lk)("div",yl,[wl,(0,o.bF)(c,{to:{name:"Menu",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[$l])),_:1},8,["to"]),Cl,Al,(0,o.Lk)("div",Nl,[(0,o.Lk)("h4",Ml,(0,u.v_)(l.locName),1),(0,o.Lk)("p",xl,(0,u.v_)(l.locAddress),1)]),(0,o.Lk)("form",{onClick:t[6]||(t[6]=(0,s.D$)((()=>{}),["prevent"]))},[El,(0,o.Lk)("div",_l,[(0,o.Lk)("div",Fl,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.itemName.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"w250 form-control",id:"floatItemName",placeholder:"Enter Item Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.itemName=e)},null,512),[[s.Jo,l.itemName,void 0,{trim:!0}]]),Sl,l.v$.itemName.$error?((0,o.uX)(),(0,o.CE)("span",Vl,(0,u.v_)(l.v$.itemName.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",Pl,[(0,o.Lk)("div",Ul,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.itemPrice.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"Number",class:"w250 form-control",id:"floatItemPrice",placeholder:"Enter Item Price","onUpdate:modelValue":t[1]||(t[1]=e=>l.itemPrice=e)},null,512),[[s.Jo,l.itemPrice,void 0,{trim:!0}]]),Xl,l.v$.itemPrice.$error?((0,o.uX)(),(0,o.CE)("span",Ql,(0,u.v_)(l.v$.itemPrice.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",Dl,[(0,o.Lk)("div",Ol,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.itemsQty.$error}])},[(0,o.bo)((0,o.Lk)("input",{type:"number",class:"w250 form-control",id:"floatItemQty",placeholder:"Enter Item Quantities","onUpdate:modelValue":t[2]||(t[2]=e=>l.itemsQty=e)},null,512),[[s.Jo,l.itemsQty,void 0,{trim:!0}]]),Bl,l.v$.itemsQty.$error?((0,o.uX)(),(0,o.CE)("span",Jl,(0,u.v_)(l.v$.itemsQty.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",Rl,[(0,o.Lk)("div",ql,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.description.$error}])},[(0,o.bo)((0,o.Lk)("textarea",{class:"w250 form-control h100",placeholder:"Enter Item Descriptions",id:"floatItemDescriptions","onUpdate:modelValue":t[3]||(t[3]=e=>l.description=e)},null,512),[[s.Jo,l.description,void 0,{trim:!0}]]),Wl,l.v$.description.$error?((0,o.uX)(),(0,o.CE)("span",Tl,(0,u.v_)(l.v$.description.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),(0,o.Lk)("div",Hl,[(0,o.Lk)("div",jl,[(0,o.Lk)("div",{class:(0,u.C4)(["form-floating mb-3",{"form-group-error":l.v$.pickedCategory.$error}])},[(0,o.bo)((0,o.Lk)("select",{class:"w250 form-select",id:"floatItemCategory","onUpdate:modelValue":t[4]||(t[4]=e=>l.pickedCategory=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.listOfCategories,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,u.v_)(e.name),9,Kl)))),128))],512),[[s.u1,l.pickedCategory,void 0,{trim:!0}]]),Yl,l.v$.pickedCategory.$error?((0,o.uX)(),(0,o.CE)("span",Gl,(0,u.v_)(l.v$.pickedCategory.$errors[0].$message),1)):(0,o.Q3)("",!0)],2)])]),zl,(0,o.Lk)("div",Zl,[(0,o.Lk)("div",en,[(0,o.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...e)=>n.updateItem&&n.updateItem(...e)),class:"w250 btn btn-warning"}," Update Now ")])]),tn,(0,o.Lk)("div",an,[l.successMessage.length>0?((0,o.uX)(),(0,o.CE)("div",sn,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage.length>0?((0,o.uX)(),(0,o.CE)("div",on,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])])])],64)}var ln={components:{AppNavbar:A},name:"UpdateItem",data(){return{v$:(0,me.Ay)(),userId:"",locationId:this.$route.params.locationId,itemId:this.$route.params.itemId,locName:"",locAddress:"",successMessage:"",errorMessage:"",pickedCategory:"",itemName:"",description:"",itemsQty:1,itemPrice:"",listOfCategories:[]}},validations(){return{itemName:{required:he.mw,minLength:(0,he.Bp)(6)},description:{required:he.mw,minLength:(0,he.Bp)(6),maxLength:(0,he.Ru)(120)},itemsQty:{required:he.mw,between:(0,he.Tq)(1,1e5)},itemPrice:{required:he.mw,between:(0,he.Tq)(0,1e6)},pickedCategory:{required:he.mw}}},async mounted(){let e=localStorage.getItem("user-info");e?(this.userId=JSON.parse(e).id,await this.loadData()):this.$router.push({name:"SignView"})},methods:{async loadData(){await this.loadCategories(),await this.loadLocationInfo(),await this.loadItemInfo()},async loadCategories(){try{let e=await N.A.get("http://localhost:3000/categories");200==e.status&&(this.listOfCategories=e.data)}catch(e){console.error("Failed to load categories",e)}},async loadItemInfo(){try{let e=await N.A.get(`http://localhost:3000/items?userId=${this.userId}&locId=${this.locationId}&id=${this.itemId}`);if(200==e.status&&e.data.length>0){const t=e.data[0];this.itemName=t.name,this.itemPrice=t.price,this.description=t.description,this.itemsQty=t.qty,this.pickedCategory=t.catId}}catch(e){console.error("Failed to load item info",e)}},async loadLocationInfo(){try{let e=await N.A.get(`http://localhost:3000/locations?userId=${this.userId}&id=${this.locationId}`);if(200==e.status&&e.data.length>0){const t=e.data[0];this.locName=t.name,this.locAddress=t.address}}catch(e){console.error("Failed to load location info",e)}},async updateItem(){if(this.v$.$validate(),this.v$.$error)this.errorMessage="You must fill in all required fields!";else try{let e=await N.A.put(`http://localhost:3000/items/${this.itemId}`,{name:this.itemName,price:parseFloat(this.itemPrice).toFixed(2),description:this.description,qty:parseInt(this.itemsQty),userId:this.userId,locId:parseInt(this.locationId),catId:this.pickedCategory});200==e.status?(this.successMessage="Item Updated Successfully ...",setTimeout((()=>{this.$router.push({name:"Menu",params:{locationId:this.locationId}})}),2e3)):this.errorMessage="Something went wrong, please try again!"}catch(e){this.errorMessage="Something went wrong, please try again!"}}}};const nn=(0,l.A)(ln,[["render",rn]]);var cn=nn;const dn=e=>((0,o.Qi)("data-v-04f5af15"),e=e(),(0,o.jt)(),e),un={class:"container"},mn=dn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),hn=dn((()=>(0,o.Lk)("button",{type:"button",class:"float-start btn btn-info"}," Back to Menu ",-1))),gn=dn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),pn={class:"row g-3 align-items-center"},kn={class:"col-auto mx-auto d-block"},vn=dn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),bn={class:"text-center"},fn={class:"mb0"},Ln={class:"text-muted"},In=dn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),yn=dn((()=>(0,o.Lk)("p",{class:"text-danger"},"Are you sure you want to delete this Item?",-1))),wn=dn((()=>(0,o.Lk)("hr",null,null,-1))),$n={class:"row g-3 align-items-center"},Cn={class:"col-auto mx-auto d-block"},An=dn((()=>(0,o.Lk)("button",{class:"btn btn-danger",type:"submit"},"Delete Now",-1))),Nn=dn((()=>(0,o.Lk)("br",null,null,-1))),Mn={class:"row g-3 align-items-center"},xn={key:0,class:"col-auto d-block mx-auto alert alert-success"},En={key:1,class:"col-auto d-block mx-auto alert alert-warning"};function _n(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",un,[(0,o.bF)(i),(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>n.deleteItem&&n.deleteItem(...e)),["prevent"]))},[mn,(0,o.bF)(c,{to:{name:"Menu",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[hn])),_:1},8,["to"]),gn,(0,o.Lk)("div",pn,[(0,o.Lk)("div",kn,[vn,(0,o.Lk)("div",bn,[(0,o.Lk)("h1",fn,(0,u.v_)(l.locName),1),(0,o.Lk)("p",Ln,(0,u.v_)(l.locAddress),1)]),In,yn,(0,o.Lk)("h4",null,"Item Name: "+(0,u.v_)(l.itemName),1),wn])]),(0,o.Lk)("div",$n,[(0,o.Lk)("div",Cn,[(0,o.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=(...e)=>n.goBack&&n.goBack(...e))},"Go Back"),(0,o.eW)("     "),An])]),Nn,(0,o.Lk)("div",Mn,[l.successMessage?((0,o.uX)(),(0,o.CE)("div",xn,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",En,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])],32)])}var Fn={name:"DeleteItem",components:{AppNavbar:A},data(){return{locationId:this.$route.params.locationId,itemId:this.$route.params.itemId,userId:"",locName:"",locAddress:"",itemName:"",successMessage:"",errorMessage:""}},async mounted(){const e=JSON.parse(localStorage.getItem("user-info")||"{}");e.id?(this.userId=e.id,await this.loadLocation(),await this.loadItem()):this.$router.push({name:"SignView"})},methods:{goBack(){this.$router.push({name:"Menu",params:{locationId:this.locationId}})},async loadLocation(){try{const{data:e}=await N.A.get("http://localhost:3000/locations",{params:{id:this.locationId,userId:this.userId}});e.length>0?(this.locName=e[0].name,this.locAddress=e[0].address):this.$router.push({name:"HomeView"})}catch(e){this.errorMessage="Failed to load location."}},async loadItem(){try{const{data:e}=await N.A.get("http://localhost:3000/items",{params:{id:this.itemId}});if(e.length>0){const t=e[0];this.itemName=t.name}else this.errorMessage="Item not found."}catch(e){this.errorMessage="Failed to load item."}},async deleteItem(){try{const e=await N.A.delete(`http://localhost:3000/items/${this.itemId}`);200===e.status?(this.successMessage="Item is deleted.",this.errorMessage="",setTimeout((()=>{this.$router.push({name:"Menu",params:{locationId:this.locationId}})}),2e3)):this.errorMessage="Failed to delete item."}catch(e){this.errorMessage="Failed to delete item."}}}};const Sn=(0,l.A)(Fn,[["render",_n],["__scopeId","data-v-04f5af15"]]);var Vn=Sn;const Pn=e=>((0,o.Qi)("data-v-6a4848cc"),e=e(),(0,o.jt)(),e),Un={class:"container"},Xn=Pn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),Qn=Pn((()=>(0,o.Lk)("button",{type:"button",class:"float-start btn btn-info"}," Back to Menu ",-1))),Dn=Pn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),On={class:"row g-3 align-items-center"},Bn={class:"col-auto mx-auto d-block"},Jn=Pn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),Rn={class:"text-center"},qn={class:"mb0"},Wn={class:"text-muted"},Tn=Pn((()=>(0,o.Lk)("div",{class:"clearfix"},null,-1))),Hn=Pn((()=>(0,o.Lk)("p",{class:"text-danger"}," Are you sure you want to delete all Items for the above location? ",-1))),jn=Pn((()=>(0,o.Lk)("p",{class:"text-danger"}," When deleting these items, you will no longer see them... ",-1))),Kn=Pn((()=>(0,o.Lk)("hr",null,null,-1))),Yn={class:"row g-3 align-items-center"},Gn={class:"col-auto mx-auto d-block"},zn=Pn((()=>(0,o.Lk)("button",{class:"btn btn-danger",type:"submit"},"Delete Now",-1))),Zn=Pn((()=>(0,o.Lk)("br",null,null,-1))),ei={class:"row g-3 align-items-center"},ti={key:0,class:"col-auto d-block mx-auto alert alert-success"},ai={key:1,class:"col-auto d-block mx-auto alert alert-warning"};function si(e,t,a,r,l,n){const i=(0,o.g2)("AppNavbar"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Un,[(0,o.bF)(i),(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>n.deleteAllItems&&n.deleteAllItems(...e)),["prevent"]))},[Xn,(0,o.bF)(c,{to:{name:"Menu",params:{locationId:l.locationId}}},{default:(0,o.k6)((()=>[Qn])),_:1},8,["to"]),Dn,(0,o.Lk)("div",On,[(0,o.Lk)("div",Bn,[Jn,(0,o.Lk)("div",Rn,[(0,o.Lk)("h1",qn,(0,u.v_)(l.locName),1),(0,o.Lk)("p",Wn,(0,u.v_)(l.locAddress),1)]),Tn,Hn,jn,Kn])]),(0,o.Lk)("div",Yn,[(0,o.Lk)("div",Gn,[(0,o.Lk)("button",{class:"btn btn-info",onClick:t[0]||(t[0]=(...e)=>n.goBack&&n.goBack(...e))},"Go Back"),(0,o.eW)("     "),zn])]),Zn,(0,o.Lk)("div",ei,[l.successMessage?((0,o.uX)(),(0,o.CE)("div",ti,(0,u.v_)(l.successMessage),1)):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",ai,(0,u.v_)(l.errorMessage),1)):(0,o.Q3)("",!0)])],32)])}var oi={name:"DeleteAllItems",components:{AppNavbar:A},data(){return{locationId:this.$route.params.locationId,userId:"",locationData:[],successMessage:"",errorMessage:"",locName:"",locAddress:"",allItemsIdIs:[]}},async mounted(){const e=JSON.parse(localStorage.getItem("user-info")||"{}");e.id?(this.userId=e.id,await this.fetchLocationInfo(),await this.fetchAllItems(),await this.checkUserAccess()):this.$router.push({name:"SignView"})},methods:{goBack(){this.$router.push({name:"Menu",params:{locationId:this.locationId}})},async fetchLocationInfo(){try{const{data:e}=await N.A.get("http://localhost:3000/locations",{params:{userId:this.userId,id:this.locationId}});e.length&&(this.locName=e[0].name,this.locAddress=e[0].address)}catch(e){this.errorMessage="Failed to fetch location information."}},async fetchAllItems(){try{const{data:e}=await N.A.get("http://localhost:3000/items",{params:{userId:this.userId,locId:this.locationId}});this.allItemsIdIs=e.map((e=>e.id))}catch(e){this.errorMessage="Failed to fetch items."}},async checkUserAccess(){try{const{data:e}=await N.A.get("http://localhost:3000/locations",{params:{id:this.locationId,userId:this.userId}});0===e.length&&this.$router.push({name:"HomeView"})}catch(e){this.errorMessage="Access check failed."}},async deleteAllItems(){try{const e=this.allItemsIdIs.map((e=>N.A.delete(`http://localhost:3000/items/${e}`)));await Promise.all(e),this.successMessage="All items have been deleted.",this.errorMessage="",setTimeout((()=>{this.$router.push({name:"Menu",params:{locationId:this.locationId}})}),2e3)}catch(e){this.successMessage="",this.errorMessage="Failed to delete items."}}}};const ri=(0,l.A)(oi,[["render",si],["__scopeId","data-v-6a4848cc"]]);var li=ri;const ni=[{path:"/",name:"HomeView",component:R},{path:"/about",name:"about",component:()=>a.e(594).then(a.bind(a,1512))},{path:"/SignView",name:"SignView",component:fe},{path:"/LoginView",name:"LoginView",component:Te},{path:"/ProfileView",name:"ProfileView",component:pt},{path:"/UpdateProfile",name:"UpdateProfile",component:Wt},{path:"/add-new-location",name:"AddNewLocation",component:ka},{path:"/update/location/:locationId",name:"UpdateLocation",component:fs},{path:"/locations/deleteAll",name:"DeleteAllLocations",component:Ya},{path:"/menu/location/:locationId",name:"Menu",component:Gs},{path:"/menu/categories/add/:locationId",name:"AddNewCategory",component:qo},{path:"/menu/item/update/:itemId/loc/:locationId",name:"UpdateItem",component:cn},{path:"/menu/item/:itemId/delete/loc/:locationId",name:"DeleteItem",component:Vn},{path:"/menu/items/delete-all/:locationId",name:"DeleteAllItems",component:li},{path:"/menu/items/add/:locationId",name:"AddNewItem",component:Il},{path:"/menu/categories/update/:locationId/:catId",name:"UpdateCategory",component:Io},{path:"/menu/categories/delete/loc/:locationId/item/:catId",name:"DeleteCategory",component:Mr},{path:"/menu/categories/view/:locationId",name:"ViewCategories",component:cr},{path:"/menu/categories/view/:locationId",name:"ViewCategories",component:cr},{path:"/menu/categories/delete/all/:locationId",name:"DeleteAllCategories",component:Yr},{path:"/delete-location/:locationId",name:"DeleteLocation",component:Ua},{path:"/:catchAll(.*)",name:"ErrorPage",component:$t}],ii=(0,d.aE)({history:(0,d.LA)("/"),routes:ni});var ci=ii,di=a(782),ui=(0,di.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});a(8077);(0,s.Ef)(c).use(ui).use(ci).mount("#app")},1348:function(e,t,a){e.exports=a.p+"img/pageNotFound.dfe652aa.jpg"}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,r){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],o=e[d][1],r=e[d][2];for(var n=!0,i=0;i<s.length;i++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.e6aef6b0.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="res-sys-2025:";a.l=function(s,o,r,l){if(e[s])e[s].push(o);else{var n,i;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+r){n=u;break}}n||(i=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+r),n.src=s),e[s]=[o];var m=function(t,a){n.onerror=n.onload=null,clearTimeout(h);var o=e[s];if(delete e[s],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),i&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,s){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var r=new Promise((function(a,s){o=e[t]=[a,s]}));s.push(o[2]=r);var l=a.p+a.u(t),n=new Error,i=function(s){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=s&&("load"===s.type?"missing":s.type),l=s&&s.target&&s.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",n.name="ChunkLoadError",n.type=r,n.request=l,o[1](n)}};a.l(l,i,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,l=s[0],n=s[1],i=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(i)var d=i(a)}for(t&&t(s);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},s=self["webpackChunkres_sys_2025"]=self["webpackChunkres_sys_2025"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(5441)}));s=a.O(s)})();
//# sourceMappingURL=app.c39b316a.js.map